# ===========================================
# Backend - Variables de Entorno
# Copia este archivo a .env y configura tus valores
# ===========================================

# Puerto del servidor
PORT=3000

# Entorno (development, production)
NODE_ENV=development

# Base de datos PostgreSQL
DATABASE_URL="postgresql://user:password@localhost:5432/sgp_db?schema=public"

# JWT - Cambia el secreto en producción
JWT_SECRET=tu_jwt_secreto_super_seguro_cambiar_en_produccion
JWT_EXPIRES_IN=8h

# Gestor UTPL - Usuario único del sistema
GESTOR_EMAIL=gestor@utpl.edu.ec
GESTOR_NAME=Gestor UTPL
GESTOR_PASSWORD=GestorUTPL2025!

# Aseguradora
ASEGURADORA_EMAIL=seguros@aseguradora.com.ec
ASEGURADORA_NOMBRE=Aseguradora Partner

# ========== CONFIGURACIÓN SMTP (Brevo) ==========
# Para usar Brevo:
# 1. Regístrate en https://www.brevo.com/
# 2. Ve a Settings → SMTP & API → SMTP
# 3. Copia tu Login (email de Brevo) y genera/copia la SMTP Key
#
# IMPORTANTE: SMTP_FROM debe usar tu email de Brevo o un dominio verificado
SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_USER=tu-email@brevo.com
SMTP_PASS=xsmtpsib-tu-smtp-key-aqui
# ⚠️ Usa tu email de Brevo aquí, NO un dominio ficticio
SMTP_FROM="Sistema SGP <tu-email@brevo.com>"

# Storage (local para desarrollo)
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=./uploads

# S3/MinIO (opcional, para producción)
# S3_ENDPOINT=http://localhost:9000
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin
# S3_BUCKET=sgp-files

# Redis
REDIS_URL=redis://localhost:6379

# Anonimización de archivos sensibles
ANONYMIZE_SENSITIVE_FILES=true
SENSITIVE_FILE_RETENTION_DAYS=365

# Plazos de negocio (en días/horas)
PLAZO_REPORTE_DIAS=60
PLAZO_LIQUIDACION_DIAS_HABILES=15
PLAZO_PAGO_HORAS=72
UMBRAL_CRITICO_DIAS=10

# Límites
MAX_FILE_MB=10
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png
PUBLIC_RATE_LIMIT=20

# CORS - URL del frontend
CORS_ORIGIN=http://localhost:5173
